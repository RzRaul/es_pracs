<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battleship Game Visualization</title>
</head>
<body>
    <h1>Battleship Game</h1>
    <div id="board"></div>
    <script>
      const boardElement = document.getElementById('board');
      const boardSize = 10;

      // Create the board
      function createBoard() {
          for (let i = 0; i < boardSize; i++) {
              for (let j = 0; j < boardSize; j++) {
                  const cell = document.createElement('div');
                  cell.className = 'cell';
                  cell.dataset.x = i;
                  cell.dataset.y = j;
                  cell.addEventListener('click', handleCellClick);
                  boardElement.appendChild(cell);
              }
          }
      }

      // Handle cell click
      async function handleCellClick(event) {
          const x = event.target.dataset.x;
          const y = event.target.dataset.y;

          // Send coordinates to ESP32
          const response = await fetch(`http://<ESP32_IP>/shoot?x=${x}&y=${y}`);
          const result = await response.text();

          // Process the response
          if (result === 'hit') {
              event.target.classList.add('hit');
          } else {
              event.target.classList.add('miss');
          }
      }

      // Initialize the board
      createBoard();

    </script>
</body>
<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
}

#board {
    display: grid;
    grid-template-columns: repeat(10, 50px);
    grid-template-rows: repeat(10, 50px);
    gap: 2px;
}

.cell {
    width: 50px;
    height: 50px;
    background-color: lightblue;
    border: 1px solid #000;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.hit {
    background-color: red;
}

.miss {
    background-color: white;
}

</style>
</html>
